<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <title>Cobertura</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
  <link rel="icon" type="image/x-icon" id="favicon1" href="{{ url_for('static', filename='images/logopequeño.png') }}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/style.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/responsive.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/beneficios.css') }}">
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/reclamacion.css') }}">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>

<body class="cobertura1">
  <div class="hero_area">
    <!-- header section strats -->
    <header class="header_section">
      <div class="container-fluid">
        <nav class="navbar navbar-expand-lg custom_nav-container ">
          <a class="navbar-brand" href="/quesonpuntos">
            <span>
              <img src="{{ url_for('static', filename='images/logopequeño.png') }}" class="imgcelu">
            </span>
          </a>
          <button class="navbar-toggler ml-auto" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
            aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <div class="d-flex mx-auto flex-column flex-lg-row align-items-center">
              <ul class="navbar-nav  ">
                <li class="nav-item">
                  <a class="nav-link" href="/quesonpuntos">¿Que son Puntos?</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="/mhistorialcompras">Compras Realizadas</a>
                </li>
                <li class="nav-item ">
                  <a class="nav-link" href="/mpuntosprincipal">Canjea Puntos</a>
                </li>
                <li class="nav-item active">
                  <a class="nav-link" href="/cobertura" id="coberturaLink">Activa Cobertura</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#" id="customLogoutButton">Cerrar sesión</a>
                </li>

                <li class="nav-item d-flex align-items-center">
                  <div class="card bg-light text-dark px-2 py-1" style="border-radius: 5px;">
                    <div class="icon-text-container">
                      <i class="fa-solid fa-user" style="color: #31C0CA"></i>
                      <span class="fw-bold1"> Hola {{ usuario.nombre|title }}, tienes</span>
                    </div>
                    <span id="nav-points" class="badge custom-badge ms-2">{{ "{:,.0f}".format(total_puntos) }}
                      Puntos</span>
                  </div>
                </li>
              </ul>
            </div>
            <div class="dropdown ms-2">
              <a class="nav-link custom-dropdown-toggle" href="#" id="userDropdown" role="button">
                <i class="material-icons custom-icon">account_circle</i>
                <i class="material-icons custom-icon-arrow">arrow_drop_down</i>
              </a>
              <ul class="dropdown-menu" aria-labelledby="userDropdown">
                <li><a class="custom-dropdown-item" href="/miperfil">Mi perfil</a></li>
              </ul>
            </div>
          </div>
        </nav>
      </div>
    </header>
    <!-- end header section -->

    <!-- Tabs Navigation -->
    <div class="container mt-4">
      <ul class="nav nav-tabs reclamacion-tabs" id="coberturaTabs" role="tablist">
        <li class="nav-item" role="presentation">
          <button class="nav-link active" id="activar-tab" data-bs-toggle="tab" data-bs-target="#activar" type="button"
            role="tab">
            <i class="fas fa-shield-alt me-2"></i>Activar Cobertura
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="reclamar-tab" data-bs-toggle="tab" data-bs-target="#reclamar" type="button"
            role="tab">
            <i class="fas fa-file-medical me-2"></i>Reclamación
          </button>
        </li>
      </ul>
    </div>

    <!-- Tab Content -->
    <div class="tab-content" id="coberturaTabsContent">

      <!-- TAB 1: ACTIVAR COBERTURA -->
      <div class="tab-pane fade show active" id="activar" role="tabpanel">
        <div class="container">
          <p class="text-wrap">
            Es importante activar tu cobertura para que tu dispositivo esté protegido contra cualquier
            inconveniente. Al activar tu cobertura, garantizamos la seguridad de tu equipo con servicios
            de protección en cobertura de pantalla.
          </p>
        </div>

        <div class="coverage-container">
          <div class="coverage-wrapper">
            <div class="coverage-main">
              <div class="coverage-card">
                <div class="coverage-header">
                  <h5 class="coverage-title">Activa tu Cobertura</h5>
                </div>
                <div class="coverage-body">
                  <form id="cobForm" class="coverage-form">

                    <div class="coverage-row">
                      <div class="coverage-field">
                        <label for="imei" class="coverage-label">IMEI:</label>
                        <input type="text" class="coverage-input" id="imei" placeholder="Ingrese el IMEI">
                        <i class="fa-solid fa-circle-question question-icon" style="color: #B197FC;"></i>

                        <div class="info-modal" id="imeiInfoModal">
                          Consulta tu factura de compra para encontrar tu IMEI o Marca al *#06# desde tu dispositivo y
                          recibe toda la informacion que necesitas.
                        </div>
                      </div>
                    </div>

                    <div class="coverage-row">
                      <div class="coverage-field">
                        <label for="nombreCliente" class="coverage-label">Nombre:</label>
                        <input type="text" class="coverage-input" id="nombreCliente" placeholder="Nombre del cliente"
                          readonly>
                      </div>
                    </div>

                    <input type="hidden" id="nit">
                    <input type="hidden" id="fecha">
                    <input type="hidden" id="referencia">
                    <input type="hidden" id="telefono">
                    <input type="hidden" id="valor">

                    <div class="coverage-action">
                      <button type="button" class="coverage-button" id="cobBtnConf" disabled>
                        Confirmar Cobertura
                      </button>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- TAB 2: RECLAMAR COBERTURA -->
      <div class="tab-pane fade" id="reclamar" role="tabpanel">
        <!-- Proceso de Reclamación -->
        <div class="reclamacion-proceso-container">
          <div class="reclamacion-proceso">
            <div class="proceso-step">
              <div class="proceso-icon">
                <i class="fas fa-id-card"></i>
              </div>
              <h6>1. Identifícate</h6>
            </div>
            <div class="proceso-arrow">
              <i class="fas fa-arrow-right"></i>
            </div>
            <div class="proceso-step">
              <div class="proceso-icon">
                <i class="fas fa-mobile-alt"></i>
              </div>
              <h6>2. Selecciona cobertura</h6>
            </div>
            <div class="proceso-arrow">
              <i class="fas fa-arrow-right"></i>
            </div>
            <div class="proceso-step">
              <div class="proceso-icon">
                <i class="fas fa-cloud-upload-alt"></i>
              </div>
              <h6>3. Sube documentos</h6>
            </div>
            <div class="proceso-arrow">
              <i class="fas fa-arrow-right"></i>
            </div>
            <div class="proceso-step">
              <div class="proceso-icon">
                <i class="fas fa-paper-plane"></i>
              </div>
              <h6>4. Enviar</h6>
            </div>
          </div>
        </div>

        <!-- Formulario de Reclamación -->
        <div class="reclamacion-container">
          <div class="reclamacion-card">
            <div class="reclamacion-header">
              <h5 class="reclamacion-title">
                <i class="fas fa-file-medical me-2"></i>
                Formulario de Reclamación
              </h5>
            </div>
            <div class="reclamacion-body">
              <form id="reclamacionForm">
                <!-- PASO 1: IDENTIFICACIÓN -->
                <div class="reclamacion-seccion paso-activo" id="paso1" data-paso="1">
                  <div class="seccion-titulo">
                    <span class="numero-paso">1</span>
                    <h6>Identificación</h6>
                  </div>

                  <div class="row">
                    <div class="col-md-5 mb-4">
                      <label for="documentoReclamacion" class="form-label">
                        Número de identificación <span class="required">*</span>
                      </label>
                      <div class="d-flex">
                        <input type="text" class="form-control reclamacion-input1" id="documentoReclamacion"
                          placeholder="Ingrese su documento" required>
                        <button type="button" class="btn-buscar-documento btn-buscar-inline" id="btnBuscarDocumento">
                          <i class="fas fa-search me-2"></i>
                        </button>
                      </div>
                    </div>

                    <div class="col-md-5 mb-4">
                      <label for="emailReclamacion" class="form-label">
                        Email <span class="required">*</span>
                      </label>
                      <input type="text" class="form-control reclamacion-input" id="emailReclamacion"
                        placeholder="correo@ejemplo.com">
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-md-5 mb-4">
                      <label for="nombreReclamacion" class="form-label">Nombre completo</label>
                      <input type="text" class="form-control reclamacion-input" id="nombreReclamacion" readonly>
                    </div>

                    <div class="col-md-5 mb-4">
                      <label for="telefonoReclamacion" class="form-label">Teléfono</label>
                      <input type="text" class="form-control reclamacion-input" id="telefonoReclamacion">
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-md-5 mb-4">
                      <label for="nombreDispositivo" class="form-label">
                        Nombre del dispositivo <span class="required">*</span>
                      </label>
                      <input type="text" class="form-control reclamacion-input" id="nombreDispositivo"
                        placeholder="Ej: iPhone 13, Samsung Galaxy S21" required>
                    </div>

                    <div class="col-md-5 mb-4">
                      <label for="imeiReclamacion" class="form-label">
                        IMEI del dispositivo <span class="required">*</span>
                        <i class="fa-solid fa-circle-question ms-1" style="color: #31C0CA; cursor: help;"
                          title="Marca *#06# desde tu dispositivo para ver el IMEI"></i>
                      </label>
                      <input type="text" class="form-control reclamacion-input" id="imeiReclamacion"
                        placeholder="Ingrese el IMEI del dispositivo" required maxlength="15">
                      <small class="text-muted d-block">El IMEI debe tener 15 dígitos</small>
                    </div>
                  </div>

                  <!-- Términos en fila completa -->
                  <div class="row">
                    <div class="col-10">
                      <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="aceptarTerminos" required>
                        <label class="form-check-label" for="aceptarTerminos">
                          Acepto los <a href="https://micelu.co/condiciones-celuprotegemos/" target="_blank">términos y
                            condiciones</a>
                        </label>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- PASO 2: SELECCIONAR COBERTURA -->
                <div class="reclamacion-seccion" id="paso2" data-paso="2" style="display: none;">
                  <div class="seccion-titulo">
                    <span class="numero-paso">2</span>
                    <h6>Selecciona tu Cobertura</h6>
                  </div>

                  <div class="row">
                    <div class="col-md-6">
                      <label class="form-label">Selecciona tu plan <span class="required">*</span></label>
                      <select class="form-select reclamacion-input" id="planCobertura" required>
                        <option value="" selected disabled>Selecciona un plan</option>
                        <option value="ASISTENCIA_FRACTURA_PANTALLA">Asistencia Fractura de Pantalla Micelu</option>
                      </select>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-md-6">
                      <label class="form-label">Tipo de cobertura <span class="required">*</span></label>
                      <select class="form-select reclamacion-input" id="tipoCobertura" required>
                        <option value="" selected disabled>Selecciona el tipo de cobertura</option>
                        <option value="FRACTURA_PANTALLA">Fractura Pantalla</option>
                      </select>
                    </div>
                  </div>
                </div>

                <!-- PASO 3: SUBIR DOCUMENTOS -->
                <div class="reclamacion-seccion" id="paso3" data-paso="3" style="display: none;">
                  <div class="seccion-titulo">
                    <span class="numero-paso">3</span>
                    <h6>Sube tus Documentos</h6>
                  </div>

                  <p class="text-muted mb-4">Sube los documentos requeridos (máximo 4MB por archivo, formato PDF o JPG)
                  </p>

                  <div class="documento-upload-item mb-3">
                    <label class="form-label">
                      Formato de reclamación <span class="required">*</span>
                    </label>
                    <input type="file" class="form-control reclamacion-input-file" id="formatoReclamacion"
                      accept=".pdf,.jpg,.jpeg" required>
                    <small class="text-muted">Upload max size 4MB (PDF o JPG)</small>
                  </div>

                  <div class="documento-upload-item mb-3">
                    <label class="form-label">
                      Fotocopia de cédula <span class="required">*</span>
                    </label>
                    <input type="file" class="form-control reclamacion-input-file" id="fotocopiaCedula"
                      accept=".pdf,.jpg,.jpeg" required>
                    <small class="text-muted">Upload max size 4MB (PDF o JPG)</small>
                  </div>

                  <div class="documento-upload-item mb-3">
                    <label class="form-label">
                      Factura de compra
                    </label>
                    <input type="file" class="form-control reclamacion-input-file" id="facturaCompra"
                      accept=".pdf,.jpg,.jpeg">
                    <small class="text-muted">Upload max size 4MB (PDF o JPG)</small>
                  </div>

                  <div class="documento-upload-item mb-3">
                    <label class="form-label">
                      Fotografías de la parte posterior, delantera y laterales del equipo <span
                        class="required">*</span>
                    </label>
                    <input type="file" class="form-control reclamacion-input-file" id="fotografiasEquipo"
                      accept=".pdf,.jpg,.jpeg" required multiple>
                    <small class="text-muted">Upload max size 4MB (PDF o JPG) - Puedes seleccionar múltiples
                      archivos</small>
                  </div>

                  <div class="documento-upload-item mb-3">
                    <label class="form-label">
                      Fotografía del serial <span class="required">*</span>
                    </label>
                    <input type="file" class="form-control reclamacion-input-file" id="fotografiaSerial"
                      accept=".pdf,.jpg,.jpeg" required>
                    <small class="text-muted">Upload max size 4MB (PDF o JPG)</small>
                  </div>
                </div>

                <!-- Botones de Navegación -->
                <div class="reclamacion-actions mt-4">
                  <button type="button" class="btn-reclamacion btn-secondary" id="btnAtras" style="display: none;">
                    <i class="fas fa-arrow-left me-2"></i>Atrás
                  </button>
                  <button type="button" class="btn-reclamacion btn-secondary" id="btnCancelar">
                    <i class="fas fa-times me-2"></i>Cancelar
                  </button>
                  <button type="button" class="btn-reclamacion btn-primary" id="btnContinuar">
                    <i class="fas fa-arrow-right me-2"></i>Continuar
                  </button>
                  <button type="submit" class="btn-reclamacion btn-success" id="btnEnviarReclamacion"
                    style="display: none;">
                    <i class="fas fa-paper-plane me-2"></i>Enviar Reclamación
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>

    </div>

    <div class="footer">
      <div class="footer1">
        <p>&copy; <a href="https://micelu.co/condiciones-celuprotegemos/" class="footer-link">Términos y Condiciones -
            Cobertura Pantalla - Micelu.co</a></p>
      </div>
    </div>

    <div class="modal fade" id="customLogoutModal" tabindex="-1" role="dialog" aria-labelledby="customLogoutModalLabel"
      aria-hidden="true">
      <div class="modal-dialog custom-logout-modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="customLogoutModalLabel">Confirmar cierre de sesión</h5>
          </div>
          <div class="modal-body">
            ¿Deseas cerrar esta sesión?
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" id="cancelLogoutButton">No</button>
            <a href="{{ url_for('logout') }}" class="btn btn-primary">Sí</a>
          </div>
        </div>
      </div>
    </div>

    <script src="{{ url_for('static', filename='js/cerrarsesion.js') }}"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"></script>
    <script src="{{ url_for('static', filename='js/cobertura.js') }}"></script>
    <script src="{{ url_for('static', filename='js/reclamacion.js') }}"></script>
    <script src="{{ url_for('static', filename='js/puntos.js') }}"></script>
    <script src="{{ url_for('static', filename='js/miperfil.js') }}"></script>
</body>

</html>